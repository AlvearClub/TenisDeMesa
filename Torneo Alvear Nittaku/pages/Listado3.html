<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://cdn.lineicons.com/2.0/LineIcons.css">
    <link href='https://unpkg.com/boxicons@2.0.9/css/boxicons.min.css' rel='stylesheet'>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-F3w7mX95PdgyTmZZMECAngseQB83DfGTowi0iMjiWaeVhAn4FJkqJByhZMI3AhiU" crossorigin="anonymous">
    <link rel="stylesheet" href="../css/styleZLComputer.css">
    <link rel="stylesheet" href="../css/styleZLPhone.css">
    <script src="https://cdn.lordicon.com/libs/mssddfmo/lord-icon-2.1.0.js"></script>

    <title>Listado</title>
    
    <script>
      var script_url = "https://script.google.com/macros/s/AKfycbxQqOoLp9V7c1sN_KrnUSHmPjlQynJhjF6h-EEhYClRSXE4tAE/exec";
  
   // print the returned data
  function ctrlq(e) {


	$("#re").html(e.result);
	$("#re").css("visibility","visible");
	read_value();

  }




function read_value() {
  
  $("#re").css("visibility","hidden");
  $("#sponsor").css("display","none");
  
   document.getElementById("loader").style.visibility = "visible";
   document.getElementById("loader").style.height = "10vh";
  
  var url = script_url+"?action=read";
  
  $.getJSON(url, function (json) {

// Set the variables from the results array




    // CREATE DYNAMIC TABLE.
    var table = document.createElement("table");



    var header = table.createTHead();
    var row = header.insertRow(0);
var cell0 = row.insertCell(0);
    var cell1 = row.insertCell(1);
    var cell2 = row.insertCell(2);
var cell3 = row.insertCell(3);
var nro = 1;
cell0.innerHTML = "<bdi>N°</bdi>";
    cell1.innerHTML = "<bdi>Nombre y Apellido</bdi>";
cell2.innerHTML = "<bdi>Perfil TMT</bdi>";

  
    for (var i = 1; i < json.records.length; i++) {

      if (json.records[i-1].CATEGORIAS.includes('5ta') && nro < 33 && json.records[i-1].PUNTAJETMT > -1) {

        tr = table.insertRow(-1);
                var tabCell = tr.insertCell(-1);
        tabCell.innerHTML = nro;
                tabCell = tr.insertCell(-1);
                tabCell.innerHTML = json.records[i-1].NOMBRES;
        tabCell = tr.insertCell(-1);
        var perfil = "https://www.tenisdemesaparatodos.com/jugadores_ficha.asp?codigo=";
        var link = perfil.concat("",json.records[i-1].CODIGOTMT) ;
                tabCell.innerHTML = "<a href= \" "+link+" \" target=\"_blank\" >Ver Perfil</a>";
        nro = nro + 1;
      }
      else if(json.records[i-1].CATEGORIAS.includes('5ta') && nro == 33 && json.records[i-1].PUNTAJETMT > -1){

        tr = table.insertRow(-1);
        var tabCell = tr.insertCell(-1);
        tabCell.innerHTML = "<bdo></bdo>";
                tabCell = tr.insertCell(-1);
        tabCell.innerHTML = "<bdo></bdo>";
        tabCell = tr.insertCell(-1);
        tabCell.innerHTML = "<bdo></bdo>";

        tr = table.insertRow(-1);
        tabCell = tr.insertCell(-1);
        tabCell.innerHTML = "<bdi>&nbsp</bdi>";
                tabCell = tr.insertCell(-1);
        tabCell.innerHTML = "<bdi>&nbsp</bdi>";
        tabCell = tr.insertCell(-1);
        tabCell.innerHTML = "<bdi>&nbsp</bdi>";
        tr = table.insertRow(-1);
        tabCell = tr.insertCell(-1);
        tabCell.innerHTML = "<bdi>&nbsp</bdi>";
                tabCell = tr.insertCell(-1);
        tabCell.innerHTML = "<bdi>LISTA DE ESPERA</bdi>";
        tabCell = tr.insertCell(-1);
        tabCell.innerHTML = "<bdi>&nbsp</bdi>";
        tr = table.insertRow(-1);
                tabCell = tr.insertCell(-1);
        tabCell.innerHTML = nro;
                tabCell = tr.insertCell(-1);
                tabCell.innerHTML = json.records[i-1].NOMBRES;
        tabCell = tr.insertCell(-1);
        var perfil = "https://www.tenisdemesaparatodos.com/jugadores_ficha.asp?codigo=";
        var link = perfil.concat("",json.records[i-1].CODIGOTMT) ;
                tabCell.innerHTML = "<a href= \" "+link+" \">Ver Perfil</a>";
        nro = nro + 1;
      }
      else if (json.records[i-1].CATEGORIAS.includes('5ta') && nro > 33 && json.records[i-1].PUNTAJETMT > -1){
        tr = table.insertRow(-1);
                var tabCell = tr.insertCell(-1);
        tabCell.innerHTML = nro;
                tabCell = tr.insertCell(-1);
                tabCell.innerHTML = json.records[i-1].NOMBRES;
        tabCell = tr.insertCell(-1);
        var perfil = "https://www.tenisdemesaparatodos.com/jugadores_ficha.asp?codigo=";
        var link = perfil.concat("",json.records[i-1].CODIGOTMT) ;
                tabCell.innerHTML = "<a href= \" "+link+" \">Ver Perfil</a>";
        nro = nro + 1;
      }
    }


        // FINALLY ADD THE NEWLY CREATED TABLE WITH JSON DATA TO A CONTAINER.
        var divContainer = document.getElementById("showData");
        divContainer.innerHTML = "";
        divContainer.appendChild(table);
        document.getElementById("loader").style.visibility = "hidden";
    document.getElementById("loader").style.height = "0vh";



    $("#loader").css("visibility","visible");
    $("#loader").css("display","none");
    
    
    });
  }
    </script>
    <style>
      @font-face {
          font-family: "Gilroy";
          src: url("../Fonts/Gilroy-FREE/Gilroy-Light.otf");
        }
        @font-face {
        font-family: "GilroyEB";
        src: url("../Fonts/Gilroy-FREE/Gilroy-ExtraBold.otf");
      }
      table, th, td
      {
        
          margin:2vh 0;
         
          font:1.8vh "Gilroy";
      }
      td{
        text-align: left;
        padding:2vh 1vh;
      }
      th {
          font-weight:bold;
          font-family: 'Poppins';
      }
      thead{
        text-align: center;
      }
      bdi{
        font-size: 2.5vh;
        font-weight:bold;
        font-family: "GilroyEB";
      }
  #loader, #loader2 {
  visibility:hidden;
  }

  @media(min-width: 767px){
          table{
        
            color:#dfe0e2;
          }
  }
  
  </style>

</head>
<body>
    
    
  <div class="phoneContender">

    <div class="topborder">
      <div class="glass">
        
        <div class="contenedor menucomp">
          <div class="navbares">
              <img src="../photos/Logo.png" class="logo">
              <nav>
                  <ul>
                      <li><a href="Inscribirme.html">Inscribirme</a></li>
                      <li><a href="MenuLis.html">Listado de Inscritos</a></li>
                      <li><a href="MenuZon.html">Sembrado de Zonas</a></li>
                      <li><a href="https://wa.link/4o7d77">Adquirir el Sistema</a></li>
                  </ul>
              </nav>
          </div>
        </div>

        <div class="encabeza2">
          <img src="../photos/Logo.png" style=" filter: grayscale(50%); width: 20vh; height: 20vh; margin-top: 2vh; margin-bottom: 2vh;" class="controller">
          <p>Inscritos <br> 5ta Categoria</p>
        </div>
        
      </div>
    </div>
    
    <div class="bottomborder">
      <div class="glass2">
        
        <div class="saitContent">
          <div align="center">
            <input id="b1" type="button" onclick="read_value()"class="btn" value="Ver Listado" />
            <input id="final" type="button" onclick="read_value()"class="btn" style="display: none;" value="Actualizar Listado" />
            <div id="showData"></div>
            <div id="loader"><img src="../photos/icons/loading.gif" alt="" style="height: 90px; width: 90px;"></div>
          </div>
        </div>
        
        <div id="sponsor" class="container text-center" style="margin-top: -13vh;">
          <h5 style="color:#1e212a; padding-top: 3vh;">Auspician:</h5>
          <div class="row justify-content-center align-items-center">
            <div class="col-xl-2 text-center">
              <a href="https://www.instagram.com/romaphotolabph/">
                <img class="imgAus" src="../photos/LogoRomaBlack.png" style="margin-top:2vh; margin-bottom: -3vh; height: 15vh; width: 37vh; margin-left:-7vh;" alt="">
              </a>
            </div>
            <div class="col-xl-2 text-center">
              <a href="">
                <img class="imgAus text-center" src="../photos/LogoTransparente-naranja.png" style="height: 15vh; width: 15vh; margin-left: 2vh;" alt="">
              </a>
            </div>
          </div>
        </div>

        <section id="foot" class="footer">
          <p class="text"><a  href="https://wa.link/4o7d77">Si quiere adquirir el sistema haga click aqui</a></p>
          <p class="text">Diseño y desarrollo por Diego Simon</p>
        </section>

        <div class="navBottom">
          <nav>
              <ul><li><a href="../index.html"><i class="lni lni-home"></i></a></li></ul>
              <ul><li><a href="MenuLis.html" class="active"><i class="lni lni-radio-button"></i></a></li></ul>
              <ul><li><a href="Inscribirme.html"><i class="lni lni-circle-plus"></i></a></li></ul>
              <ul><li><a href="MenuZon.html"><i class='bx bx-sitemap'></i></a></li></ul>
              <ul><li><a href="FAQ.html"><i class="lni lni-question-circle"></i></a></li></ul>
              
              
              <div class="tubelight">
                      <div class="light-ray"></div>
                  </div>
          
          </nav>
        </div>
      </div>
    </div>
    
    
    
  </div>


    
    
    

    <script>

        console.clear();
        const uls = document.querySelectorAll("nav ul");
        const links = [...document.querySelectorAll("nav a")];
        const light = document.querySelector("nav .tubelight");
        let activeIndex = 0;
        let currentIndex = 0;
        let increment = 1;
        links.forEach((link, index) => 
        {
            if (links[index].classList.contains("active"))
            {
                light.style.left = `${links[index].offsetLeft + light.offsetWidth / 4}px`;
            }
            link.addEventListener("click", (e) => 
            {
                activeIndex = index;
                let t = setInterval(() => 
                {
                    if (activeIndex > currentIndex) increment = 1;
                    else if (activeIndex < currentIndex) increment = -1;
                    currentIndex += increment;
        
                    links[currentIndex].classList.add("active");
                    if (currentIndex != -1)
                        links[currentIndex - increment].classList.remove("active");
        
                    if (currentIndex == activeIndex) 
                    {
                        e.target.classList.add("active");
                        increment = 0;
                        clearInterval(t);
                    }
                }, 50);
                light.style.left = `${e.target.offsetLeft + light.offsetWidth / 4}px`;
            });
        });
        
        
        
        
    </script> 
    <script src="https://code.jquery.com/jquery-3.2.1.js"></script>
    <script type="text/javascript">
    $(document).ready(function(){
        $("#b1").on('click', function() {
            $("#b1").hide();
            $("#final").show();
            return false;
        });
  
    });
    $(document).ready(function(){
        $(".b12").on('click', function() {
            $(".b12").hide();
            $(".final2").show();
            return false;
        });
  
    });
    </script>

</body>
</html>